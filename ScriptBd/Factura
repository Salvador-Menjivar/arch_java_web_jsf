-- DROP SCHEMA dbo;

CREATE SCHEMA dbo;
-- FACTURA.dbo.CLIENTE definition

-- Drop table

-- DROP TABLE FACTURA.dbo.CLIENTE;

CREATE TABLE FACTURA.dbo.CLIENTE (
	ID_CLIENTE int IDENTITY(1,1) NOT NULL,
	NOMBRE varchar(100) COLLATE Modern_Spanish_CI_AS NULL,
	DIRECCION varchar(500) COLLATE Modern_Spanish_CI_AS NULL,
	TELEFONO varchar(8) COLLATE Modern_Spanish_CI_AS NULL,
	CONSTRAINT PK_CLIENTE PRIMARY KEY (ID_CLIENTE)
);


-- FACTURA.dbo.ESTADO definition

-- Drop table

-- DROP TABLE FACTURA.dbo.ESTADO;

CREATE TABLE FACTURA.dbo.ESTADO (
	ID_ESTADO int NOT NULL,
	DESCRIPCION varchar(100) COLLATE Modern_Spanish_CI_AS NULL,
	CONSTRAINT PK_ESTADO PRIMARY KEY (ID_ESTADO)
);


-- FACTURA.dbo.FORMA_PAGO definition

-- Drop table

-- DROP TABLE FACTURA.dbo.FORMA_PAGO;

CREATE TABLE FACTURA.dbo.FORMA_PAGO (
	ID_FORMA_PAGO int IDENTITY(1,1) NOT NULL,
	DESCRIPCION varchar(100) COLLATE Modern_Spanish_CI_AS NULL,
	CONSTRAINT PK_FORMA_PAGO PRIMARY KEY (ID_FORMA_PAGO)
);


-- FACTURA.dbo.PRODUCTO definition

-- Drop table

-- DROP TABLE FACTURA.dbo.PRODUCTO;

CREATE TABLE FACTURA.dbo.PRODUCTO (
	ID_PRODUCTO int IDENTITY(1,1) NOT NULL,
	DESCRIPCION varchar(100) COLLATE Modern_Spanish_CI_AS NULL,
	PRECIO decimal(18,2) NULL,
	CONSTRAINT PK_PRODUCTO PRIMARY KEY (ID_PRODUCTO)
);


-- FACTURA.dbo.SUCURSAL definition

-- Drop table

-- DROP TABLE FACTURA.dbo.SUCURSAL;

CREATE TABLE FACTURA.dbo.SUCURSAL (
	ID_SUCURSAL int IDENTITY(1,1) NOT NULL,
	NOMBRE_SUCURSAL varchar(100) COLLATE Modern_Spanish_CI_AS NULL,
	DIRECCION varchar(100) COLLATE Modern_Spanish_CI_AS NULL,
	TELEFONO varchar(10) COLLATE Modern_Spanish_CI_AS NULL,
	CONSTRAINT PK__SUCURSAL__AB387383C7BF1859 PRIMARY KEY (ID_SUCURSAL)
);


-- FACTURA.dbo.EMPLEADO definition

-- Drop table

-- DROP TABLE FACTURA.dbo.EMPLEADO;

CREATE TABLE FACTURA.dbo.EMPLEADO (
	ID_EMPLEADO int IDENTITY(1,1) NOT NULL,
	ID_ESTADO int NULL,
	NOMBRE varchar(100) COLLATE Modern_Spanish_CI_AS NULL,
	DUI varchar(10) COLLATE Modern_Spanish_CI_AS NULL,
	FECHA_INGRESO date NULL,
	SALARIO decimal(18,2) NULL,
	FECHA_NACIMIENTO date NULL,
	CONSTRAINT PK_EMPLEADO PRIMARY KEY (ID_EMPLEADO),
	CONSTRAINT FK_EMPLEADO_ESTADO FOREIGN KEY (ID_ESTADO) REFERENCES FACTURA.dbo.ESTADO(ID_ESTADO)
);


-- FACTURA.dbo.FACTURA definition

-- Drop table

-- DROP TABLE FACTURA.dbo.FACTURA;

CREATE TABLE FACTURA.dbo.FACTURA (
	ID_FACTURA int IDENTITY(1,1) NOT NULL,
	ID_CLIENTE int NULL,
	ID_EMPLEADO int NULL,
	ID_FORMA_PAGO int NULL,
	FECHA date NULL,
	CONSTRAINT PK_FACTURA PRIMARY KEY (ID_FACTURA),
	CONSTRAINT FK_FACTURA_CLIENTE FOREIGN KEY (ID_CLIENTE) REFERENCES FACTURA.dbo.CLIENTE(ID_CLIENTE),
	CONSTRAINT FK_FACTURA_EMPLEADO FOREIGN KEY (ID_EMPLEADO) REFERENCES FACTURA.dbo.EMPLEADO(ID_EMPLEADO),
	CONSTRAINT FK_FACTURA_FORMA_PAGO FOREIGN KEY (ID_FORMA_PAGO) REFERENCES FACTURA.dbo.FORMA_PAGO(ID_FORMA_PAGO)
);


-- FACTURA.dbo.USUARIO definition

-- Drop table

-- DROP TABLE FACTURA.dbo.USUARIO;

CREATE TABLE FACTURA.dbo.USUARIO (
	ID_USUARIO int IDENTITY(1,1) NOT NULL,
	NOMBRE varchar(50) COLLATE Modern_Spanish_CI_AS NULL,
	PASSWORD nvarchar(MAX) COLLATE Modern_Spanish_CI_AS NULL,
	ID_ESTADO int NULL,
	CONSTRAINT PK_USUARIO PRIMARY KEY (ID_USUARIO),
	CONSTRAINT FK_USUARIO_ESTADO FOREIGN KEY (ID_ESTADO) REFERENCES FACTURA.dbo.ESTADO(ID_ESTADO)
);


-- FACTURA.dbo.DETALLE_FACTURA definition

-- Drop table

-- DROP TABLE FACTURA.dbo.DETALLE_FACTURA;

CREATE TABLE FACTURA.dbo.DETALLE_FACTURA (
	ID_DETALLE_FACTURA int IDENTITY(1,1) NOT NULL,
	ID_FACTURA int NULL,
	ID_PRODUCTO int NULL,
	PRECIO decimal(18,2) NULL,
	CANTIDAD int NULL,
	IVA decimal(18,2) NULL,
	TOTAL decimal(18,2) NULL,
	CONSTRAINT PK_DETALLE_FACTURA PRIMARY KEY (ID_DETALLE_FACTURA),
	CONSTRAINT FK_DETALLE_FACTURA_FACTURA FOREIGN KEY (ID_FACTURA) REFERENCES FACTURA.dbo.FACTURA(ID_FACTURA),
	CONSTRAINT FK_DETALLE_FACTURA_PRODUCTO FOREIGN KEY (ID_PRODUCTO) REFERENCES FACTURA.dbo.PRODUCTO(ID_PRODUCTO)
);

